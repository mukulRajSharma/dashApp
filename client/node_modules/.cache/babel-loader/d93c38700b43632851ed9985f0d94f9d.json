{"ast":null,"code":"var _jsxFileName = \"/home/mukulsharma/Desktop/CyAmast/PortIntel/dashApp/src/contexts/auth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\nimport { getUser, signIn as sendSignInRequest } from '../api/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AuthProvider(props) {\n  _s();\n\n  const [user, setUser] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    (async function () {\n      const result = await getUser();\n\n      if (result.isOk) {\n        setUser(result.data);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n  const signIn = useCallback(async (email, password) => {\n    const result = await sendSignInRequest(email, password);\n\n    if (result.isOk) {\n      setUser(result.data);\n    }\n\n    return result;\n  }, []);\n  const signOut = useCallback(() => {\n    setUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      signIn,\n      signOut,\n      loading\n    },\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthProvider, \"iYVCJ7bCi0yDz1YA53hbhGI40JQ=\");\n\n_c = AuthProvider;\nconst AuthContext = /*#__PURE__*/createContext({});\n\nconst useAuth = () => {\n  _s2();\n\n  return useContext(AuthContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { AuthProvider, useAuth };\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/home/mukulsharma/Desktop/CyAmast/PortIntel/dashApp/src/contexts/auth.js"],"names":["React","useState","useEffect","createContext","useContext","useCallback","getUser","signIn","sendSignInRequest","AuthProvider","props","user","setUser","loading","setLoading","result","isOk","data","email","password","signOut","AuthContext","useAuth"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,EAAoDC,UAApD,EAAgEC,WAAhE,QAAmF,OAAnF;AACA,SAASC,OAAT,EAAkBC,MAAM,IAAIC,iBAA5B,QAAqD,aAArD;;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAC3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,EAAhC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,KAAC,kBAAkB;AACjB,YAAMa,MAAM,GAAG,MAAMT,OAAO,EAA5B;;AACA,UAAIS,MAAM,CAACC,IAAX,EAAiB;AACfJ,QAAAA,OAAO,CAACG,MAAM,CAACE,IAAR,CAAP;AACD;;AAEDH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAPD;AAQD,GATQ,EASN,EATM,CAAT;AAWA,QAAMP,MAAM,GAAGF,WAAW,CAAC,OAAOa,KAAP,EAAcC,QAAd,KAA2B;AACpD,UAAMJ,MAAM,GAAG,MAAMP,iBAAiB,CAACU,KAAD,EAAQC,QAAR,CAAtC;;AACA,QAAIJ,MAAM,CAACC,IAAX,EAAiB;AACfJ,MAAAA,OAAO,CAACG,MAAM,CAACE,IAAR,CAAP;AACD;;AAED,WAAOF,MAAP;AACD,GAPyB,EAOvB,EAPuB,CAA1B;AASA,QAAMK,OAAO,GAAGf,WAAW,CAAC,MAAM;AAChCO,IAAAA,OAAO;AACR,GAF0B,EAExB,EAFwB,CAA3B;AAKA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAED,MAAAA,IAAF;AAAQJ,MAAAA,MAAR;AAAgBa,MAAAA,OAAhB;AAAyBP,MAAAA;AAAzB,KAA7B;AAAA,OAAqEH;AAArE;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;GAhCQD,Y;;KAAAA,Y;AAkCT,MAAMY,WAAW,gBAAGlB,aAAa,CAAC,EAAD,CAAjC;;AACA,MAAMmB,OAAO,GAAG;AAAA;;AAAA,SAAMlB,UAAU,CAACiB,WAAD,CAAhB;AAAA,CAAhB;;IAAMC,O;;AAEN,SAASb,YAAT,EAAuBa,OAAvB","sourcesContent":["import React, { useState, useEffect, createContext, useContext, useCallback } from 'react';\nimport { getUser, signIn as sendSignInRequest } from '../api/auth';\n\nfunction AuthProvider(props) {\n  const [user, setUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async function () {\n      const result = await getUser();\n      if (result.isOk) {\n        setUser(result.data);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n\n  const signIn = useCallback(async (email, password) => {\n    const result = await sendSignInRequest(email, password);\n    if (result.isOk) {\n      setUser(result.data);\n    }\n\n    return result;\n  }, []);\n\n  const signOut = useCallback(() => {\n    setUser();\n  }, []);\n\n\n  return (\n    <AuthContext.Provider value={{ user, signIn, signOut, loading }} {...props} />\n  );\n}\n\nconst AuthContext = createContext({});\nconst useAuth = () => useContext(AuthContext);\n\nexport { AuthProvider, useAuth }\n"]},"metadata":{},"sourceType":"module"}