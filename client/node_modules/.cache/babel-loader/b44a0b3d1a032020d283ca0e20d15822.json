{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.switchable.slide.js)\r\n * Version: 21.1.5\r\n * Build date: Mon Aug 02 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { noop } from \"../../core/utils/common\";\nimport { name as clickEventName } from \"../../events/click\";\nimport messageLocalization from \"../../localization/message\";\nimport { locate, move } from \"../../animation/translator\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport { active } from \"../../events/core/emitter.feedback\";\nimport EditDecoratorMenuHelperMixin from \"./ui.list.edit.decorator_menu_helper\";\nimport { register as registerDecorator } from \"./ui.list.edit.decorator_registry\";\nimport SwitchableEditDecorator from \"./ui.list.edit.decorator.switchable\";\nimport fx from \"../../animation/fx\";\nimport { isMaterial } from \"../themes\";\nimport ActionSheet from \"../action_sheet\";\nvar LIST_EDIT_DECORATOR = \"dxListEditDecorator\";\nvar CLICK_EVENT_NAME = addNamespace(clickEventName, LIST_EDIT_DECORATOR);\nvar ACTIVE_EVENT_NAME = addNamespace(active, LIST_EDIT_DECORATOR);\nvar SLIDE_MENU_CLASS = \"dx-list-slide-menu\";\nvar SLIDE_MENU_WRAPPER_CLASS = \"dx-list-slide-menu-wrapper\";\nvar SLIDE_MENU_CONTENT_CLASS = \"dx-list-slide-menu-content\";\nvar SLIDE_MENU_BUTTONS_CONTAINER_CLASS = \"dx-list-slide-menu-buttons-container\";\nvar SLIDE_MENU_BUTTONS_CLASS = \"dx-list-slide-menu-buttons\";\nvar SLIDE_MENU_BUTTON_CLASS = \"dx-list-slide-menu-button\";\nvar SLIDE_MENU_BUTTON_MENU_CLASS = \"dx-list-slide-menu-button-menu\";\nvar SLIDE_MENU_BUTTON_DELETE_CLASS = \"dx-list-slide-menu-button-delete\";\nvar SLIDE_MENU_ANIMATION_DURATION = 400;\nvar SLIDE_MENU_ANIMATION_EASING = \"cubic-bezier(0.075, 0.82, 0.165, 1)\";\nregisterDecorator(\"menu\", \"slide\", SwitchableEditDecorator.inherit({\n  _shouldHandleSwipe: true,\n  _init: function () {\n    this.callBase.apply(this, arguments);\n    this._$buttonsContainer = $(\"<div>\").addClass(SLIDE_MENU_BUTTONS_CONTAINER_CLASS);\n    eventsEngine.on(this._$buttonsContainer, ACTIVE_EVENT_NAME, noop);\n    this._$buttons = $(\"<div>\").addClass(SLIDE_MENU_BUTTONS_CLASS).appendTo(this._$buttonsContainer);\n\n    this._renderMenu();\n\n    this._renderDeleteButton();\n  },\n  _renderMenu: function () {\n    if (!this._menuEnabled()) {\n      return;\n    }\n\n    var menuItems = this._menuItems();\n\n    if (1 === menuItems.length) {\n      var menuItem = menuItems[0];\n\n      this._renderMenuButton(menuItem.text, function (e) {\n        e.stopPropagation();\n\n        this._fireAction(menuItem);\n      }.bind(this));\n    } else {\n      var $menu = $(\"<div>\").addClass(SLIDE_MENU_CLASS);\n      this._menu = this._list._createComponent($menu, ActionSheet, {\n        showTitle: false,\n        items: menuItems,\n        onItemClick: function (args) {\n          this._fireAction(args.itemData);\n        }.bind(this),\n        integrationOptions: {}\n      });\n      $menu.appendTo(this._list.$element());\n\n      var $menuButton = this._renderMenuButton(messageLocalization.format(\"dxListEditDecorator-more\"), function (e) {\n        e.stopPropagation();\n\n        this._menu.show();\n      }.bind(this));\n\n      this._menu.option(\"target\", $menuButton);\n    }\n  },\n  _renderMenuButton: function (text, action) {\n    var $menuButton = $(\"<div>\").addClass(SLIDE_MENU_BUTTON_CLASS).addClass(SLIDE_MENU_BUTTON_MENU_CLASS).text(text);\n\n    this._$buttons.append($menuButton);\n\n    eventsEngine.on($menuButton, CLICK_EVENT_NAME, action);\n    return $menuButton;\n  },\n  _renderDeleteButton: function () {\n    if (!this._deleteEnabled()) {\n      return;\n    }\n\n    var $deleteButton = $(\"<div>\").addClass(SLIDE_MENU_BUTTON_CLASS).addClass(SLIDE_MENU_BUTTON_DELETE_CLASS).text(isMaterial() ? \"\" : messageLocalization.format(\"dxListEditDecorator-delete\"));\n    eventsEngine.on($deleteButton, CLICK_EVENT_NAME, function (e) {\n      e.stopPropagation();\n\n      this._deleteItem();\n    }.bind(this));\n\n    this._$buttons.append($deleteButton);\n  },\n  _fireAction: function (menuItem) {\n    this._fireMenuAction($(this._cachedNode), menuItem.action);\n\n    this._cancelDeleteReadyItem();\n  },\n  modifyElement: function (config) {\n    this.callBase.apply(this, arguments);\n    var $itemElement = config.$itemElement;\n    $itemElement.addClass(SLIDE_MENU_WRAPPER_CLASS);\n    var $slideMenuContent = $(\"<div>\").addClass(SLIDE_MENU_CONTENT_CLASS);\n    $itemElement.wrapInner($slideMenuContent);\n  },\n  _getDeleteButtonContainer: function () {\n    return this._$buttonsContainer;\n  },\n  handleClick: function (_, e) {\n    if ($(e.target).closest(\".\" + SLIDE_MENU_CONTENT_CLASS).length) {\n      return this.callBase.apply(this, arguments);\n    }\n\n    return false;\n  },\n  _swipeStartHandler: function ($itemElement) {\n    this._enablePositioning($itemElement);\n\n    this._cacheItemData($itemElement);\n\n    this._setPositions(this._getPositions(0));\n  },\n  _swipeUpdateHandler: function ($itemElement, args) {\n    var rtl = this._isRtlEnabled();\n\n    var signCorrection = rtl ? -1 : 1;\n\n    var isItemReadyToDelete = this._isReadyToDelete($itemElement);\n\n    var moveJustStarted = this._getCurrentPositions().content === this._getStartPositions().content;\n\n    if (moveJustStarted && !isItemReadyToDelete && args.offset * signCorrection > 0) {\n      args.cancel = true;\n      return;\n    }\n\n    var offset = this._cachedItemWidth * args.offset;\n    var startOffset = isItemReadyToDelete ? -this._cachedButtonWidth * signCorrection : 0;\n    var correctedOffset = (offset + startOffset) * signCorrection;\n    var percent = correctedOffset < 0 ? Math.abs((offset + startOffset) / this._cachedButtonWidth) : 0;\n\n    this._setPositions(this._getPositions(percent));\n\n    return true;\n  },\n  _getStartPositions: function () {\n    var rtl = this._isRtlEnabled();\n\n    var signCorrection = rtl ? -1 : 1;\n    return {\n      content: 0,\n      buttonsContainer: rtl ? -this._cachedButtonWidth : this._cachedItemWidth,\n      buttons: -this._cachedButtonWidth * signCorrection\n    };\n  },\n  _getPositions: function (percent) {\n    var rtl = this._isRtlEnabled();\n\n    var signCorrection = rtl ? -1 : 1;\n\n    var startPositions = this._getStartPositions();\n\n    return {\n      content: startPositions.content - percent * this._cachedButtonWidth * signCorrection,\n      buttonsContainer: startPositions.buttonsContainer - Math.min(percent, 1) * this._cachedButtonWidth * signCorrection,\n      buttons: startPositions.buttons + Math.min(percent, 1) * this._cachedButtonWidth * signCorrection\n    };\n  },\n  _getCurrentPositions: function () {\n    return {\n      content: locate(this._$cachedContent).left,\n      buttonsContainer: locate(this._$buttonsContainer).left,\n      buttons: locate(this._$buttons).left\n    };\n  },\n  _setPositions: function (positions) {\n    move(this._$cachedContent, {\n      left: positions.content\n    });\n    move(this._$buttonsContainer, {\n      left: positions.buttonsContainer\n    });\n    move(this._$buttons, {\n      left: positions.buttons\n    });\n  },\n  _cacheItemData: function ($itemElement) {\n    if ($itemElement[0] === this._cachedNode) {\n      return;\n    }\n\n    this._$cachedContent = $itemElement.find(\".\" + SLIDE_MENU_CONTENT_CLASS);\n    this._cachedItemWidth = $itemElement.outerWidth();\n    this._cachedButtonWidth = this._cachedButtonWidth || this._$buttons.outerWidth();\n\n    this._$buttonsContainer.width(this._cachedButtonWidth);\n\n    if (this._$cachedContent.length) {\n      this._cachedNode = $itemElement[0];\n    }\n  },\n  _minButtonContainerLeftOffset: function () {\n    return this._cachedItemWidth - this._cachedButtonWidth;\n  },\n  _swipeEndHandler: function ($itemElement, args) {\n    this._cacheItemData($itemElement);\n\n    var signCorrection = this._isRtlEnabled() ? 1 : -1;\n    var offset = this._cachedItemWidth * args.offset;\n    var endedAtReadyToDelete = !this._isReadyToDelete($itemElement) && offset * signCorrection > .2 * this._cachedButtonWidth;\n    var readyToDelete = args.targetOffset === signCorrection && endedAtReadyToDelete;\n\n    this._toggleDeleteReady($itemElement, readyToDelete);\n\n    return true;\n  },\n  _enablePositioning: function ($itemElement) {\n    fx.stop(this._$cachedContent, true);\n    this.callBase.apply(this, arguments);\n\n    this._$buttonsContainer.appendTo($itemElement);\n  },\n  _disablePositioning: function () {\n    this.callBase.apply(this, arguments);\n\n    this._$buttonsContainer.detach();\n  },\n  _animatePrepareDeleteReady: function () {\n    return this._animateToPositions(this._getPositions(1));\n  },\n  _animateForgetDeleteReady: function ($itemElement) {\n    this._cacheItemData($itemElement);\n\n    return this._animateToPositions(this._getPositions(0));\n  },\n  _animateToPositions: function (positions) {\n    var that = this;\n\n    var currentPosition = this._getCurrentPositions();\n\n    var durationTimePart = Math.min(Math.abs(currentPosition.content - positions.content) / this._cachedButtonWidth, 1);\n    return fx.animate(this._$cachedContent, {\n      from: currentPosition,\n      to: positions,\n      easing: SLIDE_MENU_ANIMATION_EASING,\n      duration: SLIDE_MENU_ANIMATION_DURATION * durationTimePart,\n      strategy: \"frame\",\n      draw: function (positions) {\n        that._setPositions(positions);\n      }\n    });\n  },\n  dispose: function () {\n    if (this._menu) {\n      this._menu.$element().remove();\n    }\n\n    if (this._$buttonsContainer) {\n      this._$buttonsContainer.remove();\n    }\n\n    this.callBase.apply(this, arguments);\n  }\n}).include(EditDecoratorMenuHelperMixin));","map":{"version":3,"sources":["/home/mukulsharma/Desktop/CyAmast/PortIntel/dashApp/node_modules/devextreme/esm/ui/list/ui.list.edit.decorator.switchable.slide.js"],"names":["$","eventsEngine","noop","name","clickEventName","messageLocalization","locate","move","addNamespace","active","EditDecoratorMenuHelperMixin","register","registerDecorator","SwitchableEditDecorator","fx","isMaterial","ActionSheet","LIST_EDIT_DECORATOR","CLICK_EVENT_NAME","ACTIVE_EVENT_NAME","SLIDE_MENU_CLASS","SLIDE_MENU_WRAPPER_CLASS","SLIDE_MENU_CONTENT_CLASS","SLIDE_MENU_BUTTONS_CONTAINER_CLASS","SLIDE_MENU_BUTTONS_CLASS","SLIDE_MENU_BUTTON_CLASS","SLIDE_MENU_BUTTON_MENU_CLASS","SLIDE_MENU_BUTTON_DELETE_CLASS","SLIDE_MENU_ANIMATION_DURATION","SLIDE_MENU_ANIMATION_EASING","inherit","_shouldHandleSwipe","_init","callBase","apply","arguments","_$buttonsContainer","addClass","on","_$buttons","appendTo","_renderMenu","_renderDeleteButton","_menuEnabled","menuItems","_menuItems","length","menuItem","_renderMenuButton","text","e","stopPropagation","_fireAction","bind","$menu","_menu","_list","_createComponent","showTitle","items","onItemClick","args","itemData","integrationOptions","$element","$menuButton","format","show","option","action","append","_deleteEnabled","$deleteButton","_deleteItem","_fireMenuAction","_cachedNode","_cancelDeleteReadyItem","modifyElement","config","$itemElement","$slideMenuContent","wrapInner","_getDeleteButtonContainer","handleClick","_","target","closest","_swipeStartHandler","_enablePositioning","_cacheItemData","_setPositions","_getPositions","_swipeUpdateHandler","rtl","_isRtlEnabled","signCorrection","isItemReadyToDelete","_isReadyToDelete","moveJustStarted","_getCurrentPositions","content","_getStartPositions","offset","cancel","_cachedItemWidth","startOffset","_cachedButtonWidth","correctedOffset","percent","Math","abs","buttonsContainer","buttons","startPositions","min","_$cachedContent","left","positions","find","outerWidth","width","_minButtonContainerLeftOffset","_swipeEndHandler","endedAtReadyToDelete","readyToDelete","targetOffset","_toggleDeleteReady","stop","_disablePositioning","detach","_animatePrepareDeleteReady","_animateToPositions","_animateForgetDeleteReady","that","currentPosition","durationTimePart","animate","from","to","easing","duration","strategy","draw","dispose","remove","include"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/list/ui.list.edit.decorator.switchable.slide.js)\r\n * Version: 21.1.5\r\n * Build date: Mon Aug 02 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../../animation/translator\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    active\r\n} from \"../../events/core/emitter.feedback\";\r\nimport EditDecoratorMenuHelperMixin from \"./ui.list.edit.decorator_menu_helper\";\r\nimport {\r\n    register as registerDecorator\r\n} from \"./ui.list.edit.decorator_registry\";\r\nimport SwitchableEditDecorator from \"./ui.list.edit.decorator.switchable\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport ActionSheet from \"../action_sheet\";\r\nvar LIST_EDIT_DECORATOR = \"dxListEditDecorator\";\r\nvar CLICK_EVENT_NAME = addNamespace(clickEventName, LIST_EDIT_DECORATOR);\r\nvar ACTIVE_EVENT_NAME = addNamespace(active, LIST_EDIT_DECORATOR);\r\nvar SLIDE_MENU_CLASS = \"dx-list-slide-menu\";\r\nvar SLIDE_MENU_WRAPPER_CLASS = \"dx-list-slide-menu-wrapper\";\r\nvar SLIDE_MENU_CONTENT_CLASS = \"dx-list-slide-menu-content\";\r\nvar SLIDE_MENU_BUTTONS_CONTAINER_CLASS = \"dx-list-slide-menu-buttons-container\";\r\nvar SLIDE_MENU_BUTTONS_CLASS = \"dx-list-slide-menu-buttons\";\r\nvar SLIDE_MENU_BUTTON_CLASS = \"dx-list-slide-menu-button\";\r\nvar SLIDE_MENU_BUTTON_MENU_CLASS = \"dx-list-slide-menu-button-menu\";\r\nvar SLIDE_MENU_BUTTON_DELETE_CLASS = \"dx-list-slide-menu-button-delete\";\r\nvar SLIDE_MENU_ANIMATION_DURATION = 400;\r\nvar SLIDE_MENU_ANIMATION_EASING = \"cubic-bezier(0.075, 0.82, 0.165, 1)\";\r\nregisterDecorator(\"menu\", \"slide\", SwitchableEditDecorator.inherit({\r\n    _shouldHandleSwipe: true,\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._$buttonsContainer = $(\"<div>\").addClass(SLIDE_MENU_BUTTONS_CONTAINER_CLASS);\r\n        eventsEngine.on(this._$buttonsContainer, ACTIVE_EVENT_NAME, noop);\r\n        this._$buttons = $(\"<div>\").addClass(SLIDE_MENU_BUTTONS_CLASS).appendTo(this._$buttonsContainer);\r\n        this._renderMenu();\r\n        this._renderDeleteButton()\r\n    },\r\n    _renderMenu: function() {\r\n        if (!this._menuEnabled()) {\r\n            return\r\n        }\r\n        var menuItems = this._menuItems();\r\n        if (1 === menuItems.length) {\r\n            var menuItem = menuItems[0];\r\n            this._renderMenuButton(menuItem.text, function(e) {\r\n                e.stopPropagation();\r\n                this._fireAction(menuItem)\r\n            }.bind(this))\r\n        } else {\r\n            var $menu = $(\"<div>\").addClass(SLIDE_MENU_CLASS);\r\n            this._menu = this._list._createComponent($menu, ActionSheet, {\r\n                showTitle: false,\r\n                items: menuItems,\r\n                onItemClick: function(args) {\r\n                    this._fireAction(args.itemData)\r\n                }.bind(this),\r\n                integrationOptions: {}\r\n            });\r\n            $menu.appendTo(this._list.$element());\r\n            var $menuButton = this._renderMenuButton(messageLocalization.format(\"dxListEditDecorator-more\"), function(e) {\r\n                e.stopPropagation();\r\n                this._menu.show()\r\n            }.bind(this));\r\n            this._menu.option(\"target\", $menuButton)\r\n        }\r\n    },\r\n    _renderMenuButton: function(text, action) {\r\n        var $menuButton = $(\"<div>\").addClass(SLIDE_MENU_BUTTON_CLASS).addClass(SLIDE_MENU_BUTTON_MENU_CLASS).text(text);\r\n        this._$buttons.append($menuButton);\r\n        eventsEngine.on($menuButton, CLICK_EVENT_NAME, action);\r\n        return $menuButton\r\n    },\r\n    _renderDeleteButton: function() {\r\n        if (!this._deleteEnabled()) {\r\n            return\r\n        }\r\n        var $deleteButton = $(\"<div>\").addClass(SLIDE_MENU_BUTTON_CLASS).addClass(SLIDE_MENU_BUTTON_DELETE_CLASS).text(isMaterial() ? \"\" : messageLocalization.format(\"dxListEditDecorator-delete\"));\r\n        eventsEngine.on($deleteButton, CLICK_EVENT_NAME, function(e) {\r\n            e.stopPropagation();\r\n            this._deleteItem()\r\n        }.bind(this));\r\n        this._$buttons.append($deleteButton)\r\n    },\r\n    _fireAction: function(menuItem) {\r\n        this._fireMenuAction($(this._cachedNode), menuItem.action);\r\n        this._cancelDeleteReadyItem()\r\n    },\r\n    modifyElement: function(config) {\r\n        this.callBase.apply(this, arguments);\r\n        var $itemElement = config.$itemElement;\r\n        $itemElement.addClass(SLIDE_MENU_WRAPPER_CLASS);\r\n        var $slideMenuContent = $(\"<div>\").addClass(SLIDE_MENU_CONTENT_CLASS);\r\n        $itemElement.wrapInner($slideMenuContent)\r\n    },\r\n    _getDeleteButtonContainer: function() {\r\n        return this._$buttonsContainer\r\n    },\r\n    handleClick: function(_, e) {\r\n        if ($(e.target).closest(\".\" + SLIDE_MENU_CONTENT_CLASS).length) {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n        return false\r\n    },\r\n    _swipeStartHandler: function($itemElement) {\r\n        this._enablePositioning($itemElement);\r\n        this._cacheItemData($itemElement);\r\n        this._setPositions(this._getPositions(0))\r\n    },\r\n    _swipeUpdateHandler: function($itemElement, args) {\r\n        var rtl = this._isRtlEnabled();\r\n        var signCorrection = rtl ? -1 : 1;\r\n        var isItemReadyToDelete = this._isReadyToDelete($itemElement);\r\n        var moveJustStarted = this._getCurrentPositions().content === this._getStartPositions().content;\r\n        if (moveJustStarted && !isItemReadyToDelete && args.offset * signCorrection > 0) {\r\n            args.cancel = true;\r\n            return\r\n        }\r\n        var offset = this._cachedItemWidth * args.offset;\r\n        var startOffset = isItemReadyToDelete ? -this._cachedButtonWidth * signCorrection : 0;\r\n        var correctedOffset = (offset + startOffset) * signCorrection;\r\n        var percent = correctedOffset < 0 ? Math.abs((offset + startOffset) / this._cachedButtonWidth) : 0;\r\n        this._setPositions(this._getPositions(percent));\r\n        return true\r\n    },\r\n    _getStartPositions: function() {\r\n        var rtl = this._isRtlEnabled();\r\n        var signCorrection = rtl ? -1 : 1;\r\n        return {\r\n            content: 0,\r\n            buttonsContainer: rtl ? -this._cachedButtonWidth : this._cachedItemWidth,\r\n            buttons: -this._cachedButtonWidth * signCorrection\r\n        }\r\n    },\r\n    _getPositions: function(percent) {\r\n        var rtl = this._isRtlEnabled();\r\n        var signCorrection = rtl ? -1 : 1;\r\n        var startPositions = this._getStartPositions();\r\n        return {\r\n            content: startPositions.content - percent * this._cachedButtonWidth * signCorrection,\r\n            buttonsContainer: startPositions.buttonsContainer - Math.min(percent, 1) * this._cachedButtonWidth * signCorrection,\r\n            buttons: startPositions.buttons + Math.min(percent, 1) * this._cachedButtonWidth * signCorrection\r\n        }\r\n    },\r\n    _getCurrentPositions: function() {\r\n        return {\r\n            content: locate(this._$cachedContent).left,\r\n            buttonsContainer: locate(this._$buttonsContainer).left,\r\n            buttons: locate(this._$buttons).left\r\n        }\r\n    },\r\n    _setPositions: function(positions) {\r\n        move(this._$cachedContent, {\r\n            left: positions.content\r\n        });\r\n        move(this._$buttonsContainer, {\r\n            left: positions.buttonsContainer\r\n        });\r\n        move(this._$buttons, {\r\n            left: positions.buttons\r\n        })\r\n    },\r\n    _cacheItemData: function($itemElement) {\r\n        if ($itemElement[0] === this._cachedNode) {\r\n            return\r\n        }\r\n        this._$cachedContent = $itemElement.find(\".\" + SLIDE_MENU_CONTENT_CLASS);\r\n        this._cachedItemWidth = $itemElement.outerWidth();\r\n        this._cachedButtonWidth = this._cachedButtonWidth || this._$buttons.outerWidth();\r\n        this._$buttonsContainer.width(this._cachedButtonWidth);\r\n        if (this._$cachedContent.length) {\r\n            this._cachedNode = $itemElement[0]\r\n        }\r\n    },\r\n    _minButtonContainerLeftOffset: function() {\r\n        return this._cachedItemWidth - this._cachedButtonWidth\r\n    },\r\n    _swipeEndHandler: function($itemElement, args) {\r\n        this._cacheItemData($itemElement);\r\n        var signCorrection = this._isRtlEnabled() ? 1 : -1;\r\n        var offset = this._cachedItemWidth * args.offset;\r\n        var endedAtReadyToDelete = !this._isReadyToDelete($itemElement) && offset * signCorrection > .2 * this._cachedButtonWidth;\r\n        var readyToDelete = args.targetOffset === signCorrection && endedAtReadyToDelete;\r\n        this._toggleDeleteReady($itemElement, readyToDelete);\r\n        return true\r\n    },\r\n    _enablePositioning: function($itemElement) {\r\n        fx.stop(this._$cachedContent, true);\r\n        this.callBase.apply(this, arguments);\r\n        this._$buttonsContainer.appendTo($itemElement)\r\n    },\r\n    _disablePositioning: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._$buttonsContainer.detach()\r\n    },\r\n    _animatePrepareDeleteReady: function() {\r\n        return this._animateToPositions(this._getPositions(1))\r\n    },\r\n    _animateForgetDeleteReady: function($itemElement) {\r\n        this._cacheItemData($itemElement);\r\n        return this._animateToPositions(this._getPositions(0))\r\n    },\r\n    _animateToPositions: function(positions) {\r\n        var that = this;\r\n        var currentPosition = this._getCurrentPositions();\r\n        var durationTimePart = Math.min(Math.abs(currentPosition.content - positions.content) / this._cachedButtonWidth, 1);\r\n        return fx.animate(this._$cachedContent, {\r\n            from: currentPosition,\r\n            to: positions,\r\n            easing: SLIDE_MENU_ANIMATION_EASING,\r\n            duration: SLIDE_MENU_ANIMATION_DURATION * durationTimePart,\r\n            strategy: \"frame\",\r\n            draw: function(positions) {\r\n                that._setPositions(positions)\r\n            }\r\n        })\r\n    },\r\n    dispose: function() {\r\n        if (this._menu) {\r\n            this._menu.$element().remove()\r\n        }\r\n        if (this._$buttonsContainer) {\r\n            this._$buttonsContainer.remove()\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    }\r\n}).include(EditDecoratorMenuHelperMixin));\r\n"]},"metadata":{},"sourceType":"module"}